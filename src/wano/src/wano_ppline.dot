digraph {
    INIT[init="true"];

    INIT -> START[label="STATE_INIT"];
    START -> IF_ENABLE[label="STATE_INIT"];
    IF_ENABLE -> IF_CARRIER[label="INET_STATE_UPDATE"];
    IF_CARRIER -> PLUGIN_SCHED [label="INET_STATE_UPDATE"];
    PLUGIN_SCHED -> IF_IPV4_RESET;
    IF_IPV4_RESET -> PLUGIN_SCHED [label="PLUGIN_UPDATE"];
    IF_IPV4_RESET -> IF_IPV6_RESET [label="STATE_INIT,INET_STATE_UPDATE"];
    IF_IPV6_RESET -> PLUGIN_SCHED [label="PLUGIN_UPDATE"];
    IF_IPV6_RESET -> PLUGIN_RUN [label="STATE_INIT,INET_STATE_UPDATE"];
    PLUGIN_RUN -> PLUGIN_SCHED [label="PLUGIN_UPDATE"];
    PLUGIN_RUN -> PLUGIN_RUN [label="INET_STATE_UPDATE"];
    PLUGIN_RUN -> IDLE [label="STATE_INIT"];
    IDLE -> IDLE[label="INET_STATE_UPDATE,PLUGIN_UPDATE"];
    IDLE -> START[label="STATE_INIT"];
    IDLE -> START[label="IDLE_TIMEOUT"];

    FREEZE -> FREEZE[label="INET_STATE_UPDATE"];
    FREEZE -> INIT[label="PPLINE_UNFREEZE"];

    EXCEPTION-> INIT [label="!PPLINE_RESTART"];
    EXCEPTION -> IDLE [label="!PPLINE_ABORT"];
    EXCEPTION -> FREEZE [label="!PPLINE_FREEZE"];
}
